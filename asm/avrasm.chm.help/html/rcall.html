<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>RCALL - Relative Call to Subroutine</title>

<!--(Meta)==========================================================-->

<meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta HTTP-EQUIV Content-Type&quot;&quot; CONTENT text/html; charset="ISO-8859-1&quot;&quot;">
<meta HTTP-EQUIV Content-Style-Type&quot;&quot; CONTENT text/css&quot;&quot;>
<meta NAME GENERATOR&quot;&quot; CONTENT Adobe FrameMaker 5.5/HTML Export Filter&quot;&quot;>
<meta name=date content="06 7, 2001 11:25:21 AM">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=1276>
<meta name=layout-width content=579>


<!--(Links)=========================================================-->

<link REL="StyleSheet" href="../main.css" TYPE="text/css" MEDIA="screen">



<!--(Style Sheet)===================================================-->

<style>
<!--

body {
}

-->
</style>


</head>

<!--(Body)==========================================================-->


<body #ffffff&quot;&quot;>

<div>
<h3 CLASS
	heading-3&quot;&quot;>RCALL - Relative Call to Subroutine</h3>

<div>
<h3 CLASS
	heading-3&quot;&quot;><img src="../images/eor-1.gif" style="border-style: none;
										width: 469px;
										height: 12px;" width="469" height="12" border="0"> </h3>
</div>

<div>
<h6 CLASS
	Section-Sub-2&quot;&quot;>Description: </h6>

<p CLASS
	Body-Text&quot;&quot;>Relative call to an address within PC - 2K + 
 1 and PC + 2K (words). The return address (the instruction after the RCALL) 
 is stored onto the stack. (See also <a href="call.html">CALL</a>). In 
 the assembler, labels are used instead of relative operands. For AVR microcontrollers 
 with program memory not exceeding 4K words (8K bytes) this instruction 
 can address the entire memory from every address location. The stack pointer 
 uses a post-decrement scheme during RCALL.</p>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;
	style="font-family: 'Courier New', monospace;">Operation:</p>

<p CLASS
	Tabbed-Body&quot;&quot;
	style="font-family: 'Courier New', monospace;">(i)PC &#8592; PC + k 
 + 1 Devices with 16 bits PC, 128K bytes program memory maximum.</p>

<p CLASS
	Tabbed-Body&quot;&quot;
	style="font-family: 'Courier New', monospace;">(ii)PC &#8592; PC + 
 k + 1 Devices with 22 bits PC, 8M bytes program memory maximum.</p>

<p CLASS
	Normal&quot;&quot;
	style="font-family: 'Courier New', monospace;">&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L4&quot;&quot;
	style="font-family: 'Courier New', monospace;">Syntax: <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Operands: 
 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Program 
 Counter: <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Stack:</p>

<p CLASS
	Tabbed-Body-4&quot;&quot;
	style="font-family: 'Courier New', monospace;">(i) RCALL k <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->-2K 
 &#8804; k &lt; 2K <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->PC 
 &#8592; PC + k + 1 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->STACK 
 &#8592; PC + 1</p>

<p CLASS
	Tabbed-Body-4&quot;&quot;
	style="font-family: 'Courier New', monospace;"><!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->SP 
 &#8592; SP - 2 (2 bytes, 16 bits)</p>

<p CLASS
	Tabbed-Body-4&quot;&quot;
	style="font-family: 'Courier New', monospace;">(ii)RCALL k <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->-2K 
 &#8804; k &lt; 2K <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->PC 
 &#8592; PC + k + 1 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->STACK 
 &#8592; PC + 1 </p>

<p CLASS
	Tabbed-Body-4&quot;&quot;
	style="font-family: 'Courier New', monospace;"><!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->SP 
 &#8592; SP - 3 (3 bytes, 22 bits)</p>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>16-bit Opcode:</p>

<!--(Table)=========================================================-->
<table x-use-null-cells>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>1101</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>kkkk</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>kkkk</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>kkkk</td></tr>
</table>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>
</div>

<div>
<h6 CLASS
	Section-Sub-2&quot;&quot;>Status Register (SREG) and Boolean Formula:</h6>

<!--(Table)=========================================================-->
<table x-use-null-cells>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>I</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>T</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>H</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>S</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>V</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>N</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>Z</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>C</td></tr>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td></tr>
</table>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>Example:</p>

<p CLASS
	Code&quot;&quot;
	style="font-family: 'Courier New', monospace;">rcallroutine <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Call subroutine</p>

<p Code&quot;&quot;
	style="font-family: 'Courier New', monospace; margin-left: 80px;"><span 
 style="font-family: 'Courier New', monospace; margin-left: 80px;">...</span></p>

<p CLASS
	Code&quot;&quot;
	style="font-family: 'Courier New', monospace;">routine: <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->push 
 r14 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Save r14 on the stack</p>

<p CLASS
	Code&quot;&quot;
	style="font-family: 'Courier New', monospace; margin-left: 80px;">...</p>

<p CLASS
	Code&quot;&quot;
	style="font-family: 'Courier New', monospace; margin-left: 80px;">pop 
 r14 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Restore r14</p>

<p CLASS
	Code&quot;&quot;
	style="font-family: 'Courier New', monospace; margin-left: 80px;">ret 
 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Return from subroutine</p>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>Words: <em CLASS
											Default-No-Bold&quot;&quot;>1 
 (2 bytes)</em> </p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>Cycles:<em CLASS
											Default-No-Bold&quot;&quot;> 
 3 devices with 16-bit PC</em> </p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;><em CLASS
									Default-No-Bold&quot;&quot;
									style="font-style: italic;">4 devices 
 with 22-bit PC</em> </p>

<p CLASS
	Body&quot;&quot;>&nbsp;</p>
</div>
</div>

</body>

</html>
