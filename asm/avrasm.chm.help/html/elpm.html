<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>ELPM - Extended Load Program Memory</title>

<!--(Meta)==========================================================-->

<meta HTTP-EQUIV=Content-Type CONTENT="text/html; charset=windows-1252">
<meta HTTP-EQUIV=Content-Style-Type CONTENT="text/css">
<meta name=date content="06 8, 2001 10:14:04 AM">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=1478>
<meta name=layout-width content=579>


<!--(Links)=========================================================-->

<link REL="StyleSheet" href="../main.css" TYPE="text/css" MEDIA="screen">



<!--(Style Sheet)===================================================-->

<style>
<!--

body {
}

-->
</style>


</head>

<!--(Body)==========================================================-->


<body><script language="javascript"> 
        if ((window.name != "content") && (navigator.userAgent.indexOf("Opera") <= -1) ) 
        document.write("<center><a href='../index.html?page=Html/ELPM.html'>show framing</a></center>")
        </script>

<div>
<h3 CLASS=heading-3>ELPM - Extended Load Program Memory</h3>

<div>
<h3 CLASS=heading-3><img src="../images/elpm-1.gif" style="border-style: none;
								width: 469px;
								height: 12px;" width="469" height="12" border="0"> </h3>
</div>

<div>
<h6 CLASS=Section-Sub-2>Description: </h6>

<p CLASS=Body-Text>Loads one byte pointed to by the Z register and the 
 <a href="io_reg.html#rampx__rampy__rampz">RAMPZ</a> register in the I/O 
 space, and places this byte in the destination register Rd. This instruction 
 features a 100% space effective constant initialization or constant data 
 fetch. The program memory is organized in 16 bit words while the Z pointer 
 is a byte address. Thus, the least significant bit of the Z pointer selects 
 either low byte (ZLSB = 0) or high byte (ZLSB = 1). This instruction can 
 address the entire program memory space. The Z pointer register can either 
 be left unchanged by the operation, or it can be incremented. The incrementation 
 applies to the entire 24-bit concatenation of the <a href="io_reg.html#rampx__rampy__rampz">RAMPZ</a> 
 and Z pointer registers.</p>

<p CLASS=Body-Text>Devices with Self-Programming capability can use the 
 ELPM instruction to read the fuse and lock bit value. Refer to the device 
 documentation for a detailed description.</p>

<p CLASS=Body-Text>This instruction is not available in all devices. Refer 
 to the device specific instruction set summary.</p>

<p CLASS=Body-Text>The result of these combinations is undefined:</p>

<p CLASS=Tabbed-Body
	style="margin-left: 40px;">ELPM r30, Z+</p>

<p CLASS=Tabbed-Body
	style="margin-left: 40px;">ELPM r31, Z+&nbsp;</p>

<p CLASS=Table-Hd-9pt-L
	style="font-family: 'Courier New', monospace;">Operation: <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Comment:</p>

<p CLASS=Tabbed-Body
	style="font-family: 'Courier New', monospace;">(1)R0 &lt;- (RAMPZ:Z) 
 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->RAMPZ:Z: 
 Unchanged, R0 implied destination register</p>

<p CLASS=Tabbed-Body
	style="font-family: 'Courier New', monospace;">(2)Rd &lt;- (RAMPZ:Z) 
 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->RAMPZ:Z: 
 Unchanged</p>

<p CLASS=Tabbed-Body
	style="font-family: 'Courier New', monospace;">(3)Rd &lt;- (RAMPZ:Z) 
 (RAMPZ:Z) &lt;- (RAMPZ:Z) + 1 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->RAMPZ:Z: 
 Post incremented</p>

<p CLASS=Normal
	style="font-family: 'Courier New', monospace;">&nbsp;</p>

<p CLASS=Table-Hd-9pt-L
	style="font-family: 'Courier New', monospace;">Syntax: <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Operands: 
 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Program 
 Counter:</p>

<p CLASS=Tabbed-Body
	style="font-family: 'Courier New', monospace;">(1) ELPM <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->None, 
 R0 implied <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->PC 
 &lt;- PC + 1</p>

<p CLASS=Tabbed-Body
	style="font-family: 'Courier New', monospace;">(2) ELPM Rd, Z <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->0 
 &#8804; d &#8804; 31 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->PC 
 &lt;- PC + 1</p>

<p CLASS=Tabbed-Body
	style="font-family: 'Courier New', monospace;">(3) ELPM Rd, Z+ <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->0 
 &#8804; d &#8804; 31 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->PC 
 &lt;- PC + 1</p>

<p CLASS=Table-Hd-9pt-L>16 bit Opcode:</p>

<!--(Table)=========================================================-->
<table x-use-null-cells>

<tr>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>(1)</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>1001</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>0101</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>1101</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>1000</td></tr>

<tr>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>(2)</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>1001</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>000d</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>dddd</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>0110</td></tr>

<tr>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>(3)</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>1001</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>000d</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>dddd</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Code>0111</td></tr>
</table>

<p CLASS=Normal>&nbsp;</p>
</div>

<div>
<h6 CLASS=Section-Sub-2>Status Register (SREG) and Boolean Formula:</h6>

<!--(Table)=========================================================-->
<table x-use-null-cells>

<tr>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>I</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>T</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>H</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>S</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>V</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>N</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>Z</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>C</td></tr>

<tr>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td>
<td ROWSPAN=1
	COLSPAN=1>
<p CLASS=Table-9pt-C-Bottom>-</td></tr>
</table>

<p CLASS=Table-Hd-9pt-L>Example:</p>

<p CLASS=Code
	style="margin-left: 40px;">ldi ZL, byte3(Table_1&lt;&lt;1) <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Initialize Z pointer</p>

<p CLASS=Code
	style="margin-left: 40px;">out RAMP Z, ZL</p>

<p CLASS=Code
	style="margin-left: 40px;">ldi ZH, byte2(Table_1&lt;&lt;1)</p>

<p CLASS=Code
	style="margin-left: 40px;">ldiZL, byte1(Table_1&lt;&lt;1)</p>

<p CLASS=Code
	style="margin-left: 40px;">elpm r16, Z+ <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Load constant from program</p>

<p CLASS=Code
	style="margin-left: 280px;">; memory pointed to by RAMPZ:Z (Z is r31:r30)</p>
</div>
</div>

<div>
<p>...</p>
</div>

<div>
<p style="margin-left: 40px;">Table_1:</p>
</div>

<div>
<p style="margin-left: 40px;">.dw 0x3738; 0x38 is addressed when ZLSB = 
 0</p>
</div>

<div>
<p style="margin-left: 280px;">; 0x37 is addressed when ZLSB = 1</p>
</div>

<div>
<p>...</p>

<p CLASS=Table-Hd-9pt-L>Words: <em CLASS=Default-No-Bold>1 (2 bytes)</em> 
 </p>

<p CLASS=Table-Hd-9pt-L>Cycles:<em CLASS=Default-No-Bold> 3</em> &nbsp;</p>
</div>

</body>

</html>
