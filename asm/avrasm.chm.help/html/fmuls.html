<!doctype HTML public "-//W3C//DTD HTML 4.0 Frameset//EN">

<html>

<!--(==============================================================)-->
<!--(Document created with RoboEditor. )============================-->
<!--(==============================================================)-->

<head>

<title>FMULS - Fractional Multiply Signed</title>

<!--(Meta)==========================================================-->

<meta http-equiv=content-type content="text/html; charset=windows-1252">
<meta HTTP-EQUIV Content-Type&quot;&quot; CONTENT text/html; charset="ISO-8859-1&quot;&quot;">
<meta HTTP-EQUIV Content-Style-Type&quot;&quot; CONTENT text/css&quot;&quot;>
<meta NAME GENERATOR&quot;&quot; CONTENT Adobe FrameMaker 5.5/HTML Export Filter&quot;&quot;>
<meta name=date content="06 8, 2001 10:16:22 AM">
<meta name=generator content="RoboHELP by eHelp Corporation - www.ehelp.com">
<meta name=generator-major-version content=0.1>
<meta name=generator-minor-version content=1>
<meta name=filetype content=kadov>
<meta name=filetype-version content=1>
<meta name=page-count content=1>
<meta name=layout-height content=1448>
<meta name=layout-width content=579>


<!--(Links)=========================================================-->

<link REL="StyleSheet" href="../main.css" TYPE="text/css" MEDIA="screen">



<!--(Style Sheet)===================================================-->

<style>
<!--

body {
}

-->
</style>


</head>

<!--(Body)==========================================================-->


<body #ffffff&quot;&quot;>

<div>
<h3 CLASS
	heading-3&quot;&quot;>FMULS - Fractional Multiply Signed</h3>

<div>
<h3 CLASS
	heading-3&quot;&quot;><img src="../images/eor-1.gif" style="border-style: none;
										width: 469px;
										height: 12px;" width="469" height="12" border="0"> </h3>
</div>

<div>
<h6 CLASS
	Section-Sub-2&quot;&quot;>Description: </h6>

<p CLASS
	Normal&quot;&quot;>This instruction performs 8-bit × 8-bit <span style="font-family: 'Times New Roman', serif;">&#8594;</span> 
 16-bit signed multiplication and shifts the result one bit left.</p>

<!--(Table)=========================================================-->
<table x-use-null-cells>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>Rd</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>&nbsp;</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>Rr</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>&nbsp;</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>R1</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>R0</td></tr>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>Multiplicand</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Normal&quot;&quot;
	style="text-align: center;"
	align=center>×</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>Multiplier</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Normal&quot;&quot;
	style="text-align: center;"
	align=center>-&gt;</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>Product High</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>Product Low</td></tr>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>8</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Normal&quot;&quot;
	style="text-align: center;"
	align=center>&nbsp;</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>8</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Normal&quot;&quot;
	style="text-align: center;"
	align=center>&nbsp;</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN
	2&quot;&quot;>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;
	style="text-align: center;"
	align=center>16</td>
<td>
<p style="text-align: center;"
	align=center>&nbsp;</td></tr>
</table>

<p CLASS
	Body-Text&quot;&quot;>Let (N.Q) denote a fractional number with N binary 
 digits left of the radix point, and Q binary digits right of the radix 
 point. A multiplication between two numbers in the formats (N1.Q1) and 
 (N2.Q2) results in the format ((N1+N2).(Q1+Q2)). For signal processing 
 applications, the format (1.7) is widely used for the inputs, resulting 
 in a (2.14) format for the product. A left shift is required for the high 
 byte of the product to be in the same format as the inputs. The FMULS 
 instruction incorporates the shift operation in the same number of cycles 
 as MULS.</p>

<p CLASS
	Body-Text&quot;&quot;>The multiplicand Rd and the multiplier Rr are 
 two registers containing signed fractional numbers where the implicit 
 radix point lies between bit 6 and bit 7. The 16-bit signed fractional 
 product with the implicit radix point between bit 14 and bit 15 is placed 
 in R1 (high byte) and R0 (low byte). </p>

<p CLASS
	Body-Text&quot;&quot;>Note that when multiplying 0x80 (-1) with 0x80 
 (-1), the result of the shift operation is 0x8000 (-1). The shift operation 
 thus gives a two's complement overflow. This must be checked and handled 
 by software.</p>

<p CLASS
	Body-Text&quot;&quot;>This instruction is not available in all devices. 
 Refer to the device specific instruction set summary.</p>

<p CLASS
	Body-Text&quot;&quot;>&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;
	style="font-family: 'Courier New', monospace;">Operation:</p>

<p CLASS
	Tabbed-Body&quot;&quot;
	style="font-family: 'Courier New', monospace;">(i)R1:R0 &#8592; Rd 
 × Rr(signed (1.15) &lt;- signed (1.7) × signed (1.7))</p>

<p CLASS
	Body-Text&quot;&quot;
	style="font-family: 'Courier New', monospace;">&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;
	style="font-family: 'Courier New', monospace;">Syntax: <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Operands: 
 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->Program 
 Counter:</p>

<p CLASS
	Tabbed-Body&quot;&quot;
	style="font-family: 'Courier New', monospace;">FMULS Rd,Rr <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->16 
 &#8804; d &#8804; 23, 16&#8804; r &#8804; 23 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->PC 
 &lt;- PC + 1</p>

<p Tabbed-Body&quot;&quot;
	style="font-family: 'Courier New', monospace;">&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>16-bit Opcode:</p>

<!--(Table)=========================================================-->
<table x-use-null-cells>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>0000</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>0011</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>1ddd</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Code&quot;&quot;>0rrr</td></tr>
</table>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>
</div>

<div>
<h6 CLASS
	Section-Sub-2&quot;&quot;>Status Register (SREG) and Boolean Formulae:</h6>

<!--(Table)=========================================================-->
<table x-use-null-cells>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>I</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>T</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>H</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>S</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>V</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>N</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>Z</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>C</td></tr>

<tr>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Table-9pt-C-Bottom&quot;&quot;>-</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Normal&quot;&quot;>&#8660;</td>
<td ROWSPAN
	1&quot;&quot;
	COLSPAN>
<p CLASS
	Normal&quot;&quot;>&#8660;</td></tr>
</table>

<p CLASS
	Tabbed-Body&quot;&quot;>C: R16</p>

<p CLASS
	Tabbed-Body&quot;&quot;>Set if bit 15 of the result before left shift 
 is set; cleared otherwise.</p>

<p Tabbed-Body&quot;&quot;>&nbsp;</p>

<p CLASS
	Tabbed-Body&quot;&quot;>Z:<em CLASS
									Overline&quot;&quot;> R15</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R14</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R13</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R12</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R11</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R10</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R9</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R8</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R7</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R6</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R5</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R4</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R3</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R2</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R1</em> <em 
 CLASS
	Symbol-10pt&quot;&quot;>•</em> <em CLASS
										Overline&quot;&quot;>R0</em> </p>

<p CLASS
	Tabbed-Body&quot;&quot;>Set if the result is $0000; cleared otherwise.</p>

<p Tabbed-Body&quot;&quot;>&nbsp;</p>

<p CLASS
	Tabbed-Body&quot;&quot;>R (Result) equals R1,R0 after the operation.</p>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>Example:</p>

<p CLASS
	Code&quot;&quot;
	style="margin-left: 40px;">fmuls r23,r22 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Multiply signed r23 and r22 in (1.7) format, result in (1.15) format</p>

<p CLASS
	Code&quot;&quot;
	style="margin-left: 40px;">movw r23:r22,r1:r0 <!--kadov_tag{{<spaces>}}-->&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<!--kadov_tag{{</spaces>}}-->; 
 Copy result back in r23:r22</p>

<p CLASS
	Normal&quot;&quot;>&nbsp;</p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>Words: <em CLASS
											Default-No-Bold&quot;&quot;>1 
 (2 bytes)</em> </p>

<p CLASS
	Table-Hd-9pt-L&quot;&quot;>Cycles:<em CLASS
											Default-No-Bold&quot;&quot;> 
 2</em> </p>
</div>
</div>

</body>

</html>
